## 设计吐槽

刚到用友重庆来的第一个月时，前面几天一直没有事情做，一直在MDN上学习javascript web/api，包含DOM、BOM的，但是还差window的没有看；

过了差不多6天的样子，经理过来让我做一个可自行设计的表单设计器，就是用户可以自行设定文本框、文本域、单选框、下拉框、按钮、二维码等，只要表单能用到的，都给它加上，然后我的导师(JAVA大神，但是js不怎么懂)说在网上找了一个项目，让我改改就可以了。其实我想说，让我去改别人的代码，这个复杂度比我自己设计还要高好吗？

然后我开始读这个表单设计器的源码，并在导师辅助下，把这个java项目运行起来了。它的源码写的还不错，但是就是注释太少了(无力吐槽)，然后我一点一点分析，从入口一步一步往下走。后面的时间，大部分花在读源码上了，少部分写代码，它的功能实现得很有问题，比如只能添加，我还需要修改、删除，还有代码命名不规范，上面需求不确定(都口头说的，我想说这很不专业吗)，造成了我事倍功半(应该1/4)。

后面新增了一个设计表格，用户自定义表头，然后动态添加行，在行里面输入内容，内容包括图片选择(含预览)、日期选择，文件选择等。

最后在快实习到一个月的时候，我把基本功能实现了。

## 表单设计器

使用的是百度提供的ueditor富文本编辑器 + formdesign第三方扩展，然后在此基础上进行修改。

###　ueditor　源码

为了更加熟练使用formdesign，我去阅读了ueditor的源码，让我学到了许多，比如浏览器类别判断、深度复制等函数

### 表格设计

表格设计时，学会了table操作api，包含cells[],rows[]，insertRow等方法；学会了 contenteditable等操作；还有事件委托、事件冒泡、事件捕获；

### 结果

能自行设计表单内容、表格，然后通过ajax提交内容  

### 项目亮点、难点

除了实现了基本功能： 增删改文本框、单选框等常用表单组件。

**还有** 

` 表格 ` ： 能动态编辑表格内容，在表单中操作表格，表格内容多样化；

` 穿梭框 ` ： 实现了位文本框添加复杂属性功能；

` 二维码 ` ： 添加二维码；

`图片预览`： 图片上传预览；

``

### 项目槽点

项目框架由导师选择的，所以我只能在特定条件下实现对应功能。

特定条件： 

java；

ueditor;

不能使用其它框架，能使用的有bootstrap，jquery，原生html,css,js，没有项目构建工具。

没有一个完整的前端流程。

原因： 因为现在项目架构成型，要求我只能在原有框架基础上进行扩展，不能动整个项目架构